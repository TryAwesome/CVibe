# Development Profile - uses Docker PostgreSQL + Redis
spring:
  # PostgreSQL Configuration
  datasource:
    url: jdbc:postgresql://localhost:5432/cvibe
    username: cvibe
    password: cvibe123
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 30000

  # Redis Configuration
  data:
    redis:
      host: localhost
      port: 6379

  # Kafka Configuration
  kafka:
    bootstrap-servers: localhost:9092
    consumer:
      group-id: cvibe-biz-service
      auto-offset-reset: earliest
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer

  # JPA - use update for development
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true

  # Flyway - disabled for dev, use JPA auto-update
  flyway:
    enabled: false

# MinIO Configuration
minio:
  endpoint: http://localhost:9000
  access-key: minioadmin
  secret-key: minioadmin123
  bucket-name: cvibe-dev

# gRPC services - enabled for development testing
grpc:
  ai-engine:
    host: localhost
    port: 50051
    deadline-ms: 30000
    enabled: true
  search-service:
    host: localhost
    port: 50052
    deadline-ms: 30000
    enabled: true

# JWT Configuration
jwt:
  secret: dev-secret-key-for-testing-only-must-be-at-least-256-bits-long-for-hs256
  access-token-expiration: 3600000      # 1 hour
  refresh-token-expiration: 604800000   # 7 days

# Google OAuth (leave empty for dev)
google:
  oauth2:
    client-id: ${GOOGLE_CLIENT_ID:}
    client-secret: ${GOOGLE_CLIENT_SECRET:}

# CORS Configuration
cors:
  allowed-origins: http://localhost:3000,http://127.0.0.1:3000
  allowed-methods: GET,POST,PUT,DELETE,PATCH,OPTIONS
  allowed-headers: "*"
  allow-credentials: true

# Logging - verbose for development
logging:
  level:
    root: INFO
    com.cvibe: DEBUG
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
